<!DOCTYPE html>
<html>
<head>
    <title>Configuración de Usuarios</title>
    <!-- Importar Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script>
        // Configuración de Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyCwGpyvoUfbXE4rpPfLmHSdOK_VI4mT24M",
            authDomain: "lazapateria-ce24f.firebaseapp.com",
            projectId: "lazapateria-ce24f",
            storageBucket: "lazapateria-ce24f.firebasestorage.app",
            messagingSenderId: "642571845821",
            appId: "1:642571845821:web:45858a0abc0df728fd77d4",
            measurementId: "G-6JCF33H0K1"
        };

        // Inicializar Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database(app);

        // Cargar usuarios al cargar la página
        window.onload = function() {
            document.getElementById('estadoFirebase').textContent = "Firebase inicializado correctamente.";
            cargarUsuarios();
        }
    </script>
</head>
<body>
    <h1>Configuración de Usuarios</h1>
    <p id="estadoFirebase">Inicializando Firebase...</p>
    <p id="estadoUsuarios"></p>
    <p id="estadoAccion"></p>
</body>
</html>
    <script>
        function cargarUsuarios() {
            document.getElementById('estadoUsuarios').textContent = "Cargando usuarios...";
            const usuariosRef = database.ref('usuarios');
            usuariosRef.once('value')
            .then(function(snapshot) {
                const usuarioSelect = document.getElementById('usuarioSelect');
                usuarioSelect.innerHTML = '<option value="">Seleccionar Usuario</option>';
                snapshot.forEach(function(childSnapshot) {
                    const usuario = childSnapshot.val().usuario;
                    const option = document.createElement('option');
                    option.value = childSnapshot.key;
                    option.textContent = usuario;
                    usuarioSelect.appendChild(option);
                });
                document.getElementById('estadoUsuarios').textContent = "Usuarios cargados correctamente.";
            })
            .catch(function(error) {
                document.getElementById('estadoUsuarios').textContent = "Error al cargar usuarios: " + error.message;
            });
        }
    </script>
</head>
<body>
    <h1>Configuración de Usuarios</h1>
    <p id="estadoFirebase">Inicializando Firebase...</p>
    <p id="estadoUsuarios"></p>
    <p id="estadoAccion"></p>
    <select id="usuarioSelect" onchange="cargarDatosUsuario()">
        <option value="">Seleccionar Usuario</option>
    </select>
</body>
</html>

